<div class="music-container">
    <!-- Header con informaci√≥n del bar -->
    <header class="music-header">
        <div class="bar-info">
            <h1 class="bar-name">{{barName}}</h1>
            <p class="current-playing" *ngIf="currentSong">
                üî¥ En reproducci√≥n: <strong>{{currentSong.name}}</strong> - {{currentSong.artist}}
            </p>
            <p class="current-playing" *ngIf="!currentSong">
                No hay ninguna canci√≥n reproduci√©ndose
            </p>
        </div>
        <div class="queue-info">
            <span class="queue-count">{{queue.length}} canciones en cola</span>
        </div>
    </header>

    <!-- B√∫squeda de canciones -->
    <section class="search-section">
        <div class="search-container">
            <input type="text" [(ngModel)]="searchQuery" (keyup.enter)="searchSongs()"
                placeholder="Buscar canciones, artistas..." class="search-input">
            <button (click)="searchSongs()" class="search-btn">
                üîç Buscar
            </button>
        </div>
    </section>

    <!-- Resultados de b√∫squeda -->
    <section class="search-results" *ngIf="searchResults.length > 0">
        <h3>Resultados de b√∫squeda</h3>
        <div class="results-grid">
            <div *ngFor="let song of searchResults" class="song-card">
                <div class="song-info">
                    <img [src]="song.albumCover" [alt]="song.album" class="album-cover">
                    <div class="song-details">
                        <h4 class="song-title">{{song.name}}</h4>
                        <p class="song-artist">{{song.artist}}</p>
                        <p class="song-album">{{song.album}}</p>
                        <p class="song-duration">{{song.duration}}</p>
                    </div>
                </div>
                <button (click)="addToQueue(song)" class="add-btn" [disabled]="song.adding">
                    {{song.adding ? 'A√±adiendo...' : '‚ûï A√±adir (' + price + '‚Ç¨)'}}
                </button>
            </div>
        </div>
    </section>

    <!-- Cola de reproducci√≥n -->
    <section class="queue-section">
        <h3>Cola de reproducci√≥n</h3>
        <div class="queue-list" *ngIf="queue.length > 0">
            <div *ngFor="let song of queue; let i = index" class="queue-item" [class.playing]="i === 0 && currentSong">
                <div class="queue-position">{{i + 1}}</div>
                <img [src]="song.albumCover" [alt]="song.album" class="queue-album-cover">
                <div class="queue-song-info">
                    <h4 class="queue-song-title">{{song.name}}</h4>
                    <p class="queue-song-artist">{{song.artist}}</p>
                </div>
                <div class="queue-song-duration">{{song.duration}}</div>
                <div class="queue-song-status">
                    <span *ngIf="i === 0 && currentSong" class="playing-indicator">‚ñ∂Ô∏è Reproduciendo</span>
                    <span *ngIf="i === 0 && !currentSong" class="next-indicator">‚è≠Ô∏è Siguiente</span>
                    <span *ngIf="i > 0" class="waiting-indicator">‚è≥ En espera</span>
                </div>
            </div>
        </div>
        <div class="empty-queue" *ngIf="queue.length === 0">
            <p>No hay canciones en la cola de reproducci√≥n</p>
            <p class="empty-queue-hint">Busca canciones y a√±√°delas para que suenen en el bar</p>
        </div>
    </section>

    <!-- Informaci√≥n de pago -->
    <section class="payment-info">
        <div class="price-info">
            <p>üí≥ Precio por canci√≥n: <strong>{{price}}‚Ç¨</strong></p>
            <p class="payment-notice">Al a√±adir una canci√≥n, se procesar√° el pago autom√°ticamente</p>
        </div>
    </section>
    </div>